import{SvelteComponent,add_flush_callback,append_hydration,assign,attr,bind,binding_callbacks,check_outros,children,claim_component,claim_element,claim_space,construct_svelte_component,create_component,destroy_component,detach,element,empty,get_spread_object,get_spread_update,group_outros,init,insert_hydration,mount_component,noop,safe_not_equal,space,subscribe,transition_in,transition_out}from"../../web_modules/svelte/internal/index.mjs";import{onMount}from"../../web_modules/svelte/index.mjs";import Head from"./head.js";import Login from"./login.js";function create_if_block(e){let t,i,s,o;function a(t){e[8](t)}var n=e[6].menu;function r(e){let t={user:e[3]};return e[0]!==void 0&&(t.content=e[0]),{props:t}}return n&&(t=construct_svelte_component(n,r(e)),binding_callbacks.push(()=>bind(t,"content",a))),{c(){t&&create_component(t.$$.fragment),s=empty()},l(e){t&&claim_component(t.$$.fragment,e),s=empty()},m(e,n){t&&mount_component(t,e,n),insert_hydration(e,s,n),o=!0},p(e,o){const c={};if(o&8&&(c.user=e[3]),!i&&o&1&&(i=!0,c.content=e[0],add_flush_callback(()=>i=!1)),o&64&&n!==(n=e[6].menu)){if(t){group_outros();const e=t;transition_out(e.$$.fragment,1,0,()=>{destroy_component(e,1)}),check_outros()}n?(t=construct_svelte_component(n,r(e)),binding_callbacks.push(()=>bind(t,"content",a)),create_component(t.$$.fragment),transition_in(t.$$.fragment,1),mount_component(t,s.parentNode,s)):t=null}else n&&t.$set(c)},i(e){if(o)return;t&&transition_in(t.$$.fragment,e),o=!0},o(e){t&&transition_out(t.$$.fragment,e),o=!1},d(e){e&&detach(s),t&&destroy_component(t,e)}}}function create_fragment(e){let o,a,f,s,l,i,h,u,c,t,d;a=new Head({props:{title:"GeoCities 1996",env:e[4]}});let n=e[3]&&e[6].isAuthenticated&&create_if_block(e);function v(t){e[9](t)}let p={user:e[3]};e[5]!==void 0&&(p.hash=e[5]),i=new Login({props:p}),binding_callbacks.push(()=>bind(i,"hash",v));const m=[e[0].fields,{allLayouts:e[2]}];var r=e[1];function g(){let t={};for(let e=0;e<m.length;e+=1)t=assign(t,m[e]);return{props:t}}return r&&(t=construct_svelte_component(r,g(e))),{c(){o=element("html"),create_component(a.$$.fragment),f=space(),s=element("body"),n&&n.c(),l=space(),create_component(i.$$.fragment),u=space(),c=element("main"),t&&create_component(t.$$.fragment),this.h()},l(e){o=claim_element(e,"HTML",{lang:!0});var r,h,d=children(o);claim_component(a.$$.fragment,d),f=claim_space(d),s=claim_element(d,"BODY",{id:!0}),r=children(s),n&&n.l(r),l=claim_space(r),claim_component(i.$$.fragment,r),u=claim_space(r),c=claim_element(r,"MAIN",{}),h=children(c),t&&claim_component(t.$$.fragment,h),h.forEach(detach),r.forEach(detach),d.forEach(detach),this.h()},h(){attr(s,"id","css-zen-garden"),attr(o,"lang","en")},m(e,r){insert_hydration(e,o,r),mount_component(a,o,null),append_hydration(o,f),append_hydration(o,s),n&&n.m(s,null),append_hydration(s,l),mount_component(i,s,null),append_hydration(s,u),append_hydration(s,c),t&&mount_component(t,c,null),d=!0},p(e,[o]){const u={};o&16&&(u.env=e[4]),a.$set(u),e[3]&&e[6].isAuthenticated?n?(n.p(e,o),o&72&&transition_in(n,1)):(n=create_if_block(e),n.c(),transition_in(n,1),n.m(s,l)):n&&(group_outros(),transition_out(n,1,1,()=>{n=null}),check_outros());const d={};o&8&&(d.user=e[3]),!h&&o&32&&(h=!0,d.hash=e[5],add_flush_callback(()=>h=!1)),i.$set(d);const f=o&5?get_spread_update(m,[o&1&&get_spread_object(e[0].fields),o&4&&{allLayouts:e[2]}]):{};if(o&2&&r!==(r=e[1])){if(t){group_outros();const e=t;transition_out(e.$$.fragment,1,0,()=>{destroy_component(e,1)}),check_outros()}r?(t=construct_svelte_component(r,g(e)),create_component(t.$$.fragment),transition_in(t.$$.fragment,1),mount_component(t,c,null)):t=null}else r&&t.$set(f)},i(e){if(d)return;transition_in(a.$$.fragment,e),transition_in(n),transition_in(i.$$.fragment,e),t&&transition_in(t.$$.fragment,e),d=!0},o(e){transition_out(a.$$.fragment,e),transition_out(n),transition_out(i.$$.fragment,e),t&&transition_out(t.$$.fragment,e),d=!1},d(e){e&&detach(o),destroy_component(a),n&&n.d(),destroy_component(i),t&&destroy_component(t)}}}function instance(e,t,n){let r,a=noop,c=()=>(a(),a=subscribe(o,e=>n(6,r=e)),o);e.$$.on_destroy.push(()=>a());let{content:s,layout:l,allContent:d,allLayouts:u,user:o,env:h}=t;c();let i;onMount(async()=>{n(5,i=window.location.hash)});function m(e){s=e,n(0,s)}function f(e){i=e,n(5,i)}return e.$$set=e=>{"content"in e&&n(0,s=e.content),"layout"in e&&n(1,l=e.layout),"allContent"in e&&n(7,d=e.allContent),"allLayouts"in e&&n(2,u=e.allLayouts),"user"in e&&c(n(3,o=e.user)),"env"in e&&n(4,h=e.env)},[s,l,u,o,h,i,r,d,m,f]}class Component extends SvelteComponent{constructor(e){super(),init(this,e,instance,create_fragment,safe_not_equal,{content:0,layout:1,allContent:7,allLayouts:2,user:3,env:4})}}export default Component